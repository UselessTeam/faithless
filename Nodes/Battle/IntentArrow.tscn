[gd_scene load_steps=11 format=2]

[ext_resource path="res://Assets/Sprites/Combat/arrows/arrows.png" type="Texture" id=1]
[ext_resource path="res://Scripts/Battle/IntentArrow.cs" type="Script" id=2]
[ext_resource path="res://Assets/Sprites/Combat/arrows/wood.png" type="Texture" id=3]
[ext_resource path="res://Assets/Sprites/Combat/arrows/metal2.png" type="Texture" id=4]
[ext_resource path="res://Assets/Sprites/Combat/arrows/earth.png" type="Texture" id=5]
[ext_resource path="res://Assets/Sprites/Combat/arrows/water.png" type="Texture" id=6]
[ext_resource path="res://Assets/Sprites/Combat/arrows/fire.png" type="Texture" id=7]

[sub_resource type="Shader" id=4]
code = "shader_type canvas_item;

uniform bool blockAction = true;

void fragment(){
	COLOR = texture(TEXTURE, UV);	
	if(blockAction){
		float intensity =  sqrt( COLOR.r*COLOR.r + COLOR.g*COLOR.g + COLOR.b*COLOR.b )/3.;
		COLOR = vec4(intensity, intensity, intensity, pow(COLOR.a,1));
	}
}"

[sub_resource type="ShaderMaterial" id=5]
resource_local_to_scene = true
shader = SubResource( 4 )
shader_param/blockAction = true

[sub_resource type="AtlasTexture" id=6]
resource_local_to_scene = true
flags = 4
atlas = ExtResource( 1 )
region = Rect2( 0, 0, 120, 120 )

[node name="IntentArrow" type="Node2D"]
scale = Vector2( 0.7, 0.7 )
script = ExtResource( 2 )
areaPath = NodePath("Hover")
Arrows = [ ExtResource( 7 ), ExtResource( 6 ), ExtResource( 3 ), ExtResource( 5 ), ExtResource( 4 ) ]

[node name="Hover" type="Control" parent="."]
margin_left = -40.0
margin_top = -60.0
margin_right = 40.0
margin_bottom = 60.0
focus_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite" type="Sprite" parent="."]
material = SubResource( 5 )
texture = SubResource( 6 )
flip_v = true
